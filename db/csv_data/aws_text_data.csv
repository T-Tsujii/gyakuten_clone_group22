title,content
【 第1章 】ネットワーク環境設定,"初めにVPC（Virtual Private Cloud）の設定を行っていきましょう！  
広いAWSという敷地の中で、自分の領域を決めるというイメージです。

## 1.VPCの作成

画面左上のサービスを開き、検索欄に「VPC」と入力し、「VPC」を選択します。  

まず右上のリージョンを「アジアパシフィック（東京）」に設定しましょう。  

トップ画面より「VPC」を選択して、詳細ページ左上の「VPCの作成」を選択してください。  

以下の通り項目に記載  

1. 名前タグ：「VPC_for_アプリ名」  
2. IPv4 CIDR ブロック：「10.0.0.0/16」  
3. IPv6 CIDR ブロック：「IPv6 CIDR ブロックなし  
4. テナンシー：「デフォルト」  

右下の「作成」を選択  

## 2.サブネットの作成

画面左の「サブネット」を選択して、詳細ページ左上の「サブネットの作成」を選択してください。  

以下の通り項目に記載  

1. 名前タグ：「アプリ名-Subnet-1a」  
2. VPCに先ほど作成した：「VPC_for_アプリ名」  
3. アベイラビリティーゾーン：「ap-northeast-1a」  
4. IPv4 CIDR ブロック：「10.0.0.0/24」  

右下の「作成」を選択  

RDS用にもう一つサブネットを作成します。  
同様に「サブネットの作成」を選択して、以下の通り項目に記載

1. 名前タグ：「アプリ名-Subnet-1c」  
2. VPCに先ほど作成した：「VPC_for_アプリ名」  
3. アベイラビリティーゾーン：「ap-northeast-1c」  
4. IPv4 CIDR ブロック：「10.0.1.0/24」  

右下の「作成」を選択  

## 3.インターネットゲートウェイの作成

画面左の「インターネットゲートウェイ」を選択して、詳細ページ左上の「インターネットゲートウェイの作成」を選択してください。  

以下の通り項目に記載

1. 名前タグ：「Gateway_for_アプリ名」  

右下の「作成」を選択  

このゲートウェイをVPCと紐付けます。  
作成したゲートウェイを選択した状態で、「アクション」を選択し、「VPCにアタッチ」を選択します。  

VPCに先ほど作成した「VPC_for_アプリ名」を指定  
右下の「アタッチ」を選択  

## 4.ルートテーブルの作成

画面左の「ルートテーブル」を選択して、詳細ページ左上の「ルートテーブルの作成」を選択してください。  

以下の通り項目に記載  

1. 名前タグ：「Table_for_アプリ名」  
2. VPCに先ほど作成した：「VPC_for_アプリ名」  

右下の「作成」を選択  

次に作成したルートテーブルに「インターネットゲートウェイをルーティングするというルール」を記載したいと思います。  

作成したテーブルを選択した状態で、下のタブの「ルート」を選択し、「ルートの編集」を選択します。  

「ルートの追加」ボタンを選択し、以下の通り項目に記載  

1. 送信先：「0.0.0.0/0」  
2. ターゲットの項目を選択し、「Internet Gateway」を選択、先ほど作成したゲートウェイを選択  

「ルートの保存」を選択します。  

最後にサブネットとの紐付けを行います。  
画面左の「サブネット」を選択して、先ほど作成した「アプリ名-Subnet-1a」を選択した状態で、画面下のルートテーブルタブを選択して、「ルートテーブルの関連付けの編集」ボタンを選択  

ルートテーブルIDの項目を選択し、先ほど作成したテーブル「Table_for_アプリ名」を選択します。  
右下の「保存」を選択します。  

同様に、もう一つのサブネットの「アプリ名-Subnet-1c」もルートテーブルを紐付けしていきます。  
同手順でルートテーブルの関連付けを実施してください。  

## 5.セキュリティグループの作成

続けてセキュリティグループの設定を行っていきましょう。  
画面左の「セキュリティグループ」を選択して、詳細ページ左上の「セキュリティグループの作成」を選択してください。  

以下の通り項目に記載

1. セキュリティグループ名：「アプリ名-SecurityGroup」  
2. 説明：「Security for アプリ名」  
3. VPCに先ほど作成した：「VPC_for_アプリ名」  

右下の「作成」を選択  

作成したセキュリティグループに実際にルールを記載していきます。  
先ほど作成したセキュリティグループを選択した状態で、下のタブの「インバウンドのルール」を選択し、  
「ルールの編集」を選択します。  

「ルールの追加」ボタンを選択します。  
以下の通り項目に記載  

1. タイプ：「SSH」  
2. プロトコル：「TCP」※自動選択  
3. ポート範囲：「22」※自動選択  
4. ソース：「マイIP」（自分のグローバルIPが表示される）  
5. 説明：「任意」（空白でもOKです）  

さらにルールを追加するので、再度「ルールの追加」ボタンを選択します。  
新しく追加されたレコードに以下の通り記載  

1. タイプ：「HTTP」  
2. プロトコル：「TCP」※自動選択  
3. ポート範囲：「80」※自動選択  
4. ソース：「任意の場所」（0.0.0.0/0, ::/0）  
5. 説明：「任意」（空白でもOKです）  

「ルールの保存」を選択します。"
【 第2章 】RDSの設定,"次にRDS（Relational Database Service）の設定、  
つまりはデータベースの設定を行っていきます。  

## 1.サブネットグループの作成

画面左上のサービスを開き、検索欄に「RDS」と入力し、「RDS」を選択します。  

画面左の「サブネットグループ」を選択して、  
詳細ページ右上の「DBサブネットグループの作成」を選択してください。  

以下の通り項目に記載  
サブネットグループの詳細  
1. 名前「アプリ名-DB-Subnet-Group」  
2. 説明「DB Subnet Group for アプリ名」  
3. VPC「VPC_forアプリ名」  
サブネットの追加  
「このVPCに関連するすべてのサブネットを追加します」ボタンを選択  
下部に自動的に二つのサブネットが追加された事を確認  
「作成」を選択します。  

## 2.DBインスタンスの作成

画面左の「データベース」を選択して、  
詳細ページ右上の「データベースの作成」を選択してください。  

**データベース作成方法を選択**  
「標準作成」を選択  

**エンジンのオプション**  
1. エンジンのタイプ：「好きなDBエンジンを選択」※今回はMySQL  
2. バージョン：「任意のMySQLのバージョンを選択」※今回はMySQL 5.7.26を選択  

**テンプレート**  
「無料利用枠」を選択  

**設定**  
1. DB インスタンス識別子：「アプリ名-mysql」  
2. マスターユーザー名：「お好きな設定で」※今回はroot  
3. マスターパスワード：「お好きな設定で」  

**DB インスタンスサイズ**　※初期設定でOK  
「標準クラス（mクラスを含む）」を選択  

**ストレージ**　※初期設定でOK  
1. ストレージタイプ：「プロビジョンドIOPS(SSD)」  
2. ストレージ割り当て：「20」  
3. プロビジョンド IOPS：「1000」  
4. ストレージの自動スケーリングを有効にする：「チェックを入れる」  
5. 最大ストレージしきい値：「1000」  

**可用性と耐久性**　※初期設定でOK  
1. マルチ AZ 配置「スタンバイインスタンスを作成する」を選択  

**接続**  
1. Virtual Private Cloud (VPC)「VPC_for_アプリ名」  
「追加の接続設定」を選択  
2. サブネットグループ：「アプリ名_db-subnet-group」  
3. パブリックアクセス可能：「なし」を選択  
4. VPC セキュリティグループ：「既存の選択」、「default」を×で消し、「アプリ名-SecurityGroup」を追加  
5. アベイラビリティーゾーン：「指定なし」  
6. データベースポート：「3306」  

**データベース認証**　※初期設定でOK  
1. データベース認証オプション：「パスワード認証」にチェック  

**「追加設定」を選択**  

**データベースの選択肢**　※データベース名だけ変更  
1. 最初のデータベース名：「アプリ名_production」  
2. DB パラメータグループ：「default.mysql5.7」  
3. オプショングループ：「default:mysql-5-7」  

**バックアップ**  ※バックアップの保持期間だけ変更  
1. 自動バックアップの有効化：「チェックを入れる」  
2. バックアップ保持期間：「1日間」  
3. バックアップウィンドウ：「設定なしにチェック」  
4. スナップショットにタグをコピー：「チェック」  

以下、初期設定でOK  

「データベースの作成」を選択してください。  

ステータスが「利用可能」になるまでしばらく待ちましょう。  

これで、AWS上に自分の領域を確保し、データベースの作成までが完了しました。  
次にEC2と呼ばれる仮想サーバーの構築をしていきましょう！"